<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>難易度付きクイズ</title>
<style>
body { font-family: sans-serif; text-align: center; padding: 30px; }
button { margin: 10px; padding: 10px 20px; font-size: 18px; }
#question { font-size: 24px; margin-bottom: 10px; }
#difficulty { font-size: 18px; color: #888; margin-bottom: 20px; }
#result, #score { font-size: 20px; margin-top: 30px; }
.explanation { font-size: 16px; margin-top: 10px; color: #555; }
#nextBtn { display: none; margin-top: 20px; }
#history { text-align: left; margin: 40px auto; max-width: 600px; background: #f9f9f9; padding: 20px; border-radius: 8px; }
#history h3 { margin-top: 0; }
ul { text-align: left; }
</style>
</head>
<body>

<div id="quiz-container">
<div id="question"></div>
<div id="difficulty"></div>
<div id="choices"></div>
<div id="result"></div>
<button id="nextBtn" onclick="nextQuestion()">次の問題へ</button>
</div>
<div id="score" style="display:none;"></div>
<div id="history"></div>

<script>
const quizData = [
{
question: "国民皆年金の説明として次の記述は正しいか?「20歳以上60歳未満のすべての国民が加入対象となる年金制度。」",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "正しい記述です。日本に住む20〜60歳の全員が対象。",
difficulty: "レベルA"
},
{
question: "第1号被保険者とは会社員や公務員のことを指す。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "会社員・公務員は第2号。第1号は自営業者・学生など。",
difficulty: "レベルA"
},
{
question: "第3号被保険者は厚生年金加入者の扶養配偶者。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "20〜60歳未満の扶養配偶者が対象。",
difficulty: "レベルA"
},
{
question: "老齢基礎年金は70歳から支給される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "原則65歳支給。70歳は繰下げ上限。",
difficulty: "レベルA"
},
{
question: "障害基礎年金には1級・2級がある。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "3級は障害厚生年金の等級。",
difficulty: "レベルA"
},
{
question: "障害基礎年金3級が存在する。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "障害基礎年金は1級・2級のみ。",
difficulty: "レベルA"
},
{
question: "遺族基礎年金は子がいない配偶者にも支給される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "支給対象は「子のある配偶者」または「子」のみ。",
difficulty: "レベルA"
},
{
question: "学生納付特例制度は保険料の免除制度である。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "猶予制度。後から追納できる。",
difficulty: "レベルB"
},
{
question: "死亡一時金は、すでに遺族基礎年金を受け取っている場合も支給される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "重複支給不可。どちらか一方のみ。",
difficulty: "レベルB"
},
{
question: "寡婦年金は全ての未亡人が受給できる。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "支給には要件あり（保険料納付期間・婚姻年数など）。",
difficulty: "レベルB"
},
{
question: "基礎年金番号はすべての年金加入者に付与される。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "年金管理のために一人ひとつ割り当てられる番号。",
difficulty: "レベルB"
},
{
question: "合算対象期間は年金額に反映される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "受給資格には含まれるが、年金額には反映されない。",
difficulty: "レベルB"
},
{
question: "学生納付特例制度を使うと将来の年金額は増える。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "保険料未納と同じ扱いになる。追納しないと反映されない。",
difficulty: "レベルB"
},
{
question: "任意加入被保険者は70歳まで加入できる。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "上限は65歳（特例で例外あり）。",
difficulty: "レベルC"
},
{
question: "付加保険料は月500円である。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "月200円が正解。",
difficulty: "レベルB"
},
{
question: "「第1号被保険者」に該当する人は?",
choices: ["①. 厚生年金の加入者", "②. 20歳未満の学生", "③. 自営業の60歳", "④. 第2号の配偶者", "⑤. 海外在住者"],
answer: "③. 自営業の60歳",
explanation: "第1号は自営業や学生など。会社員は第2号。",
difficulty: "レベルA"
},
{
question: "「第2号被保険者」に正しく該当するのは?",
choices: ["①. 公務員", "②. 自営業者", "③. 専業主婦", "④. 海外居住の日本人", "⑤. 学生"],
answer: "①. 公務員",
explanation: "厚生年金加入者は第2号に分類される。",
difficulty: "レベルA"
},
{
question: "「第3号被保険者」の条件に合致するのは?",
choices: ["①. 会社経営者", "②. 年収150万円のパート主婦", "③. 会社員に扶養される配偶者", "④. 学生", "⑤. 海外の配偶者"],
answer: "③. 会社員に扶養される配偶者",
explanation: "第2号に扶養されている配偶者が該当。",
difficulty: "レベルA"
},
{
question: "「老齢基礎年金」の支給開始年齢は?",
choices: ["①. 60歳", "②. 63歳", "③. 65歳", "④. 67歳", "⑤. 70歳"],
answer: "③. 65歳",
explanation: "原則65歳支給開始。",
difficulty: "レベルA"
},
{
question: "学生納付特例制度の説明として正しいのは?",
choices: ["①. 納付義務が完全免除", "②. 障害年金の受給資格に反映されない", "③. 猶予であり追納できる", "④. 60歳以上も対象", "⑤. 給付付き制度"],
answer: "③. 猶予であり追納できる",
explanation: "学生納付特例は猶予制度。障害年金にも反映される。",
difficulty: "レベルB"
},
{
question: "「死亡一時金」が支給されるケースは?",
choices: ["①. 第②号被保険者死亡時", "②. 遺族基礎年金と併給時", "③. 年金未加入者死亡時", "④. 遺族基礎年金等を受けられない遺族", "⑤. 誰でも受け取れる"],
answer: "④. 遺族基礎年金等を受けられない遺族",
explanation: "他の年金が受給できない遺族に限って支給される。",
difficulty: "レベルB"
},
{
question: "「寡婦年金」を受け取ることができる条件は?",
choices: ["①. 5年以上婚姻継続", "②. 子がいる", "③. 被保険者が70歳以上", "④. 一時金を受け取った配偶者", "⑤. 離婚後の元配偶者"],
answer: "①. 5年以上婚姻継続",
explanation: "婚姻継続5年以上などの条件を満たす必要がある。",
difficulty: "レベルB"
},
{
question: "「合算対象期間」に該当するものは?",
choices: ["①. 年金額に反映される期間", "②. 未納期間", "③. 国民年金の任意加入期間", "④. 受給資格には反映されるが年金額に含まれない期間", "⑤. 支給停止期間"],
answer: "④. 受給資格には反映されるが年金額に含まれない期間",
explanation: "合算対象期間は年金額に反映されず、資格期間にのみ算入される。",
difficulty: "レベルB"
},
{
question: "「障害基礎年金」の支給対象に該当するのは?",
choices: ["①. 3級の障害者", "②. 2級の障害者", "③. 4級の障害者", "④. 就業不能な全員", "⑤. 一定の療養中の人"],
answer: "②. 2級の障害者",
explanation: "支給されるのは1級・2級の障害者。3級は対象外。",
difficulty: "レベルB"
},
{
question: "「障害基礎年金1級」に該当するのは？",
choices: ["①. 常時介護を要する程度の障害者", "②. 軽度の視力障害", "③. 精神疾患で通院中の者", "④. 3級の障害認定者", "⑤. 医師により経過観察中の人"],
answer: "①. 常時介護を要する程度の障害者",
explanation: "1級は、常に介護を必要とするような重度の障害が対象です。",
difficulty: "レベルA"
},
{
question: "「基礎年金番号」が付与されるのは？",
choices: ["①. 第1号被保険者のみ", "②. 第2号被保険者のみ", "③. 第3号被保険者のみ", "④. 年金制度加入者すべて", "⑤. 厚生年金受給者のみ"],
answer: "④. 年金制度加入者すべて",
explanation: "年金制度に加入しているすべての人に個別の基礎年金番号が割り振られます。",
difficulty: "レベルA"
},
{
question: "障害基礎年金の初診日が国民年金の被保険者期間中でなければならない。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "初診日が厚生年金期間中の場合は障害厚生年金が対象になります。",
difficulty: "レベルA"
},
{
question: "任意加入被保険者は20歳未満でも加入できる。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "任意加入できるのは、60歳以上65歳未満など限られた範囲の人です。",
difficulty: "レベルB"
},
{
question: "国民年金保険料の未納期間はすべて合算対象期間になる。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "合算対象期間と未納期間は別物です。未納は合算対象にはなりません。",
difficulty: "レベルB"
},
{
question: "海外に住んでいる日本人でも、国民年金に任意加入することができる。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "国外在住者でも要件を満たせば任意加入が可能です。",
difficulty: "レベルC"
},
{
question: "国民年金の付加保険料は老齢厚生年金受給者にも適用される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "付加保険料は第1号被保険者向けの制度です。",
difficulty: "レベルC"
},
{
question: "「学生納付特例制度」の対象となるのは？",
choices: ["①. 高校生", "②. 大学生で20歳以上", "③. 65歳以上の学生", "④. 夜間高校生", "⑤. 留学生"],
answer: "②. 大学生で20歳以上",
explanation: "20歳以上の大学生・専門学生等が対象です。",
difficulty: "レベルB"
},
{
question: "「老齢基礎年金」の受給資格期間は？",
choices: ["①. 5年", "②. 10年", "③. 15年", "④. 20年", "⑤. 25年"],
answer: "②. 10年",
explanation: "2017年の法改正以降、10年以上で受給可能になりました。",
difficulty: "レベルA"
},
{
question: "第3号被保険者は保険料を自分で納付する。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "保険料は第2号被保険者の年金制度（厚生年金）が負担します。",
difficulty: "レベルB"
},
{
question: "国民年金保険料を納めていない期間は、将来の年金額に影響する。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "保険料未納期間は年金額の算定に反映されず、将来の年金額が減ります。",
difficulty: "レベルA"
},
{
question: "保険料を10年間支払えば、老齢基礎年金の受給資格を得られる。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "受給資格期間は原則10年以上です。",
difficulty: "レベルA"
},
{
question: "国民年金保険料の追納は5年以内であれば可能。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "原則、追納できるのは2年以内です（学生納付特例などは10年以内）。",
difficulty: "レベルC"
},
{
question: "「任意加入被保険者」となることができる人は？",
choices: ["①. 30歳の会社員", "②. 40歳の公務員", "③. 60歳以上65歳未満で未納期間がある人", "④. 学生", "⑤. 20歳未満の未加入者"],
answer: "", "③. 60歳以上65歳未満で未納期間がある人",
explanation: "任意加入は、保険料納付を満たすために利用されます。",
difficulty: "レベルB"
},
{
question: "国民年金には障害等級3級の支給対象がある。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "3級は厚生年金に限られ、国民年金の障害等級は1級・2級のみです。",
difficulty: "レベルB"
},
{
question: "障害基礎年金は、初診日から1年6か月後を起点に認定される。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "原則として初診日から1年6か月後の障害状態で判断されます。",
difficulty: "レベルA"
},
{
question: "付加保険料を納めると老齢基礎年金に上乗せがある。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "付加年金として、200円×納付月数×1.5が上乗せされます。",
difficulty: "レベルA"
},
{
question: "国民年金保険料は前納ができない。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "最大2年前納が可能。割引制度もあります。",
difficulty: "レベルB"
},
{
question: "付加保険料は第2号被保険者でも納付可能。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "第1号被保険者のみが対象。",
difficulty: "レベルC"
},
{
question: "年金制度には強制加入と任意加入がある。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "年齢や職業に応じて分類されます。",
difficulty: "レベルC"
},
{
question: "「死亡一時金」の支給対象外は？",
choices: ["①. 保険料未納者", "②. 配偶者に子がいる", "③. 寡婦年金受給者", "④. 未支給年金がある遺族", "⑤. 支給要件を満たさない遺族"],
answer: "②. 配偶者に子がいる",
explanation: "子がいると遺族基礎年金が優先され、一時金は対象外になります。",
difficulty: "レベルB"
},
{
question: "合算対象期間は受給資格に含まれない。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "受給資格期間には含まれますが、年金額には反映されません。",
difficulty: "レベルB"
},
{
question: "学生納付特例制度を利用した期間は障害年金の保険料納付要件に含まれる。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "猶予期間として納付要件を満たす対象になります。",
difficulty: "レベルB"
},
{
question: "脱退一時金は外国人労働者が一定期間加入した後、日本を離れるときに請求できる。",
choices: ["〇(正)", "×(誤り)"],
answer: "〇(正)",
explanation: "保険料納付期間6か月以上など、条件を満たせば受け取れます。",
difficulty: "レベルC"
},
{
question: "学生納付特例制度を利用するには本人が申請しなくても自動的に適用される。",
choices: ["〇(正)", "×(誤り)"],
answer: "×(誤り)",
explanation: "申請が必要です。自動適用ではありません。",
difficulty: "レベルC"
}
];

let currentQuestion = 0;
let score = 0;
let mistakeLog = [];
let answered = false;

function showQuestion() {
const q = quizData[currentQuestion];
document.getElementById("question").textContent = q.question;
document.getElementById("difficulty").textContent = `難易度：${q.difficulty}`;
const choicesDiv = document.getElementById("choices");
choicesDiv.innerHTML = "";

q.choices.forEach(choice => {
const btn = document.createElement("button");
btn.textContent = choice;
btn.onclick = () => checkAnswer(choice);
btn.disabled = false;
choicesDiv.appendChild(btn);
});

document.getElementById("result").textContent = "";
document.getElementById("nextBtn").style.display = "none";
answered = false;
}

function checkAnswer(userAnswer) {
if (answered) return;
answered = true;

const q = quizData[currentQuestion];
const resultDiv = document.getElementById("result");
resultDiv.innerHTML = "";

if (userAnswer === q.answer) {
resultDiv.innerHTML = `<span style="color:green;">正解！</span>`;
score++;
} else {
resultDiv.innerHTML = `<span style="color:red;">不正解… 正解は「${q.answer}」</span>`;
mistakeLog.push({
question: q.question,
selected: userAnswer,
correct: q.answer,
difficulty: q.difficulty
});
}

const explanationDiv = document.createElement("div");
explanationDiv.className = "explanation";
explanationDiv.innerHTML = `
難易度：${q.difficulty}<br>
解説：${q.explanation}
`;
resultDiv.appendChild(explanationDiv);

document.getElementById("nextBtn").style.display = "inline-block";
Array.from(document.getElementById("choices").children).forEach(btn => btn.disabled = true);
}

function nextQuestion() {
currentQuestion++;
if (currentQuestion < quizData.length) {
showQuestion();
} else {
showScore();
}
}

function showScore() {
document.getElementById("quiz-container").style.display = "none";
const scoreDiv = document.getElementById("score");
scoreDiv.style.display = "block";
scoreDiv.innerHTML = `あなたの点数は ${score} / ${quizData.length} 点です！`;

const history = JSON.parse(localStorage.getItem("quizHistory") || "[]");
const today = new Date().toLocaleDateString();
history.push({
date: today,
score: `${score}/${quizData.length}`,
mistakes: mistakeLog
});
localStorage.setItem("quizHistory", JSON.stringify(history));

showHistory();
}

function showHistory() {
const historyData = JSON.parse(localStorage.getItem("quizHistory") || "[]");
const historyDiv = document.getElementById("history");

if (historyData.length === 0) return;

historyDiv.innerHTML = "<h3>過去のスコア履歴</h3>";
historyData.slice(-5).reverse().forEach((record) => {
const div = document.createElement("div");
div.innerHTML = `<strong>${record.date}：</strong>${record.score}`;

if (record.mistakes.length > 0) {
const ul = document.createElement("ul");
record.mistakes.forEach(m => {
const li = document.createElement("li");
li.innerHTML = `
<strong>Q:</strong> ${m.question}<br>
難易度: ${m.difficulty}<br>
あなたの答え: <em>${m.selected}</em><br>
正解: <strong>${m.correct}</strong>
`;
ul.appendChild(li);
});
div.appendChild(ul);
} else {
div.innerHTML += "<p>全問正解🎉</p>";
}

historyDiv.appendChild(div);
});
}

showQuestion();
</script>
</body>
</html>
